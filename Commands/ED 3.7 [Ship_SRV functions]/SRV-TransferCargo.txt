--
--

Write [Blue] 'Under ship {BOOL:Status srv under ship} - Handbrake {BOOL:Status srv handbrake activated}' to log
-- ↓ Environment conditions
Begin Condition : ([{TXT:Status vehicle}] Equals 'SRV' AND [Status srv under ship] Equals True AND [Status srv handbrake activated] Equals True)
    Execute command, '[Role; SRV] Panel' (and wait until it completes)
    
    Start Loop While : [{TXT:Status gui focus}] Does Not Equal 'role panel'
        Pause 0,2 seconds
        Set integer [cunter] to [cunter] plus 1
        Write [Blue] '{INT:cunter}' to log
    End Loop
    
    -- role panel selection
    Begin Text Compare : [{TXT:Status gui focus}] Equals 'role panel'
        -- Select SRV, Transfer cargo
        Press variable key(s) [edUI_Select] and hold for 0,05 seconds and release
        Press variable key(s) [edUI_Down] and hold for 0,8 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Up] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Up] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Up] and hold for 0,05 seconds and release
        Press variable key(s) [edUI_Select] and hold for 0,05 seconds and release
        
        -- move to top left
        Pause 0,1 seconds
        Press variable key(s) [edUI_Up] and hold for 0,8 seconds and release
        Pause 0,1 seconds
        Press variable key(s) [edUI_Left] and hold for 0,05 seconds and release
        Pause 0,1 seconds
        Press variable key(s) [edUI_Left] and hold for 0,05 seconds and release
        Pause 0,1 seconds
        
        -- transfer
        Start Loop : Repeat 4 Times
            Press variable key(s) [edUI_Select] and hold for 0,05 seconds and release
            Pause 0,05 seconds
        End Loop
        Press variable key(s) [edUI_Down] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Right] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Select] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Left] and hold for 0,05 seconds and release
        Pause 0,05 seconds
        Press variable key(s) [edUI_Up] and hold for 0,05 seconds and release
        Start Loop : Repeat 2 Times
            Press variable key(s) [edUI_Back] and hold for 0,05 seconds and release
            Pause 0,05 seconds
        End Loop
    End Condition
    
Else
    Play sound, '{VA_SOUNDS}\ED_ThemeSounds\Windows Ding.wav'
    Write [Red] 'Under ship {BOOL:Status srv under ship} - Handbrake {BOOL:Status srv handbrake activated}' to log
End Condition